# MindBase Environment Variables
# ⚠️ NEVER HARDCODE PORTS IN CODE - ALWAYS USE THESE ENVIRONMENT VARIABLES

# PostgreSQL Configuration
POSTGRES_HOST=localhost
POSTGRES_PORT=15434
POSTGRES_USER=mindbase
POSTGRES_PASSWORD=mindbase_dev
POSTGRES_DB=mindbase_dev
POSTGRES_INTERNAL_PORT=5432

# Ollama Configuration
OLLAMA_HOST=localhost
OLLAMA_PORT=11434
EMBEDDING_MODEL=qwen3-embedding:8b
# EMBEDDING_DIMENSIONS is auto-detected from model name if not set:
#   - nomic-embed-text: 768
#   - qwen3-embedding: 1024
#   - text-embedding-ada-002: 1536
#   - text-embedding-3-large: 3072
# Override only if using a custom model
EMBEDDING_DIMENSIONS=1024

# FastAPI Configuration
API_HOST=0.0.0.0
API_PORT=18003
DEBUG=true
DERIVE_ON_STORE=true
MINDBASE_SETTINGS_PATH=${HOME}/.config/mindbase/settings.json
DERIVER_BATCH_SIZE=5
DERIVER_IDLE_SECONDS=5
DERIVER_MAX_RETRIES=3

# Database URL (constructed from above vars or override)
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# Ollama URL (constructed from above vars or override)
OLLAMA_URL=http://${OLLAMA_HOST}:${OLLAMA_PORT}

# Memory System
MEMORY_BASE_DIR=${HOME}/Library/Application Support/mindbase/memories

# Test Configuration
TEST_DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/mindbase_test
TEST_OLLAMA_URL=http://${OLLAMA_HOST}:${OLLAMA_PORT}
